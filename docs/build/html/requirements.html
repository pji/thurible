<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>thurible Requirements &mdash; Thurible 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Panels" href="panels.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Thurible
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="panels.html">Panels</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">thurible Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functional-requirements">Functional Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#technical-requirements">Technical Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#design-discussion">Design Discussion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-ui-elements">Basic UI Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overlap-handling">Overlap Handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#defined-data-views">Defined Data Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defined-input-modes">Defined Input Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relative-sizing">Relative Sizing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#messaging">Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-navigation">Data Navigation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Thurible</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">thurible Requirements</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/requirements.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="thurible-requirements">
<h1>thurible Requirements<a class="headerlink" href="#thurible-requirements" title="Permalink to this heading"></a></h1>
<p>The purpose of this document is to detail the requirements for the
<cite>thurible</cite> package. This is an initial take to help with planning.
There may be additional requirements of non-required features added in
the future that are not recorded here.</p>
<section id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this heading"></a></h2>
<p>The purposes of <cite>thurible</cite> are:</p>
<ul class="simple">
<li><p>Create a library of terminal interface widgets.</p></li>
<li><p>Consolidate terminal interface code I’ve written.</p></li>
<li><p>Experiment more with the <cite>blessed</cite> package.</p></li>
</ul>
</section>
<section id="functional-requirements">
<h2>Functional Requirements<a class="headerlink" href="#functional-requirements" title="Permalink to this heading"></a></h2>
<p>The following are the functional requirements for <cite>thurible</cite>:</p>
<ul class="simple">
<li><p>Provide a program loop in a coroutine that manages:
*   Output to the terminal,
*   Input from the keyboard.</p></li>
<li><p>Display simple log-style output.</p></li>
<li><p>Display rich text.</p></li>
<li><p>Display tabular data.</p></li>
<li><p>Display multipage data.</p></li>
<li><p>Display command hints.</p></li>
<li><p>Collect single key presses as input.</p></li>
<li><p>Collected multicharacter input.</p></li>
<li><p>Control whether input is echoed to the screen.</p></li>
<li><p>Split the terminal into sections that can be managed separately.</p></li>
</ul>
</section>
<section id="technical-requirements">
<h2>Technical Requirements<a class="headerlink" href="#technical-requirements" title="Permalink to this heading"></a></h2>
<p>The following are the technical requirements for <cite>thurible</cite>:</p>
<ul class="simple">
<li><p>Be written in Python.</p></li>
<li><p>Be built on top of the <cite>blessed</cite> package.</p></li>
<li><p>Have only <cite>blessed</cite> as a third party dependency.</p></li>
<li><p>Work in:
*   iTerm2 on macOS,</p></li>
</ul>
<p>The following is desired but not initially required:</p>
<ul class="simple">
<li><p>Work in:
*   Terminal on macOS,
*   xterm on a Linux platform,
*   cmd on Windows.</p></li>
</ul>
</section>
<section id="design-discussion">
<h2>Design Discussion<a class="headerlink" href="#design-discussion" title="Permalink to this heading"></a></h2>
<p>The following are notes and discussion around the design of <cite>thurible</cite>.
Information here may not reflect the final implementation.</p>
<section id="basic-ui-elements">
<h3>Basic UI Elements<a class="headerlink" href="#basic-ui-elements" title="Permalink to this heading"></a></h3>
<p>The following are the basic UI elements that should be available:</p>
<dl>
<dt>Screen</dt><dd><p>The entire display in a terminal. The UI for an application can be
made of multiple screens.</p>
<p>Note: These are not separate terminal screens like you get with the
*nix <cite>screen</cite> command. The <cite>blessed</cite> library cannot create multiple
of this type of screen. However, it’s similar in concept. The
application should be able to switch back and forth between multiple
screens, and the state of those screens should be maintained even
when they are not being displayed.</p>
</dd>
<dt>Area</dt><dd><p>A defined rectangular subsection of a screen. An area is a generic
type for the defined data views.</p>
</dd>
</dl>
<section id="overlap-handling">
<h4>Overlap Handling<a class="headerlink" href="#overlap-handling" title="Permalink to this heading"></a></h4>
<p>The location and dimensions of an Area seems like it should be a property
of the area. However, an Area should write to the terminal independently
of other Areas. This would mean there is no way for an Area to detect if
it is overlapping with other Areas. If that needs to be detected, it
would need to be done by the Screen.</p>
<p>Does it need to be done? It would avoid needing the application to
handle the need to avoid overlapping Areas. On the other hand, it
would also mean you couldn’t choose to overlap areas if you wanted to.
So, maybe, this is something that should be left to the application to
manage.</p>
<p>If overlap is possible, there will need to be a Z axis for the areas to
determine which Area gets to draw in the space. Though for that to work
at the Area level, every change to an Area would necessitate a redraw
of every area. That seems inefficient. So, the Screen will still need to
detect overlaps and determine whether a particular part of an Area is
visible or overlapped. That seems complicated.</p>
<p>Maybe there is a third element needed? It could be a Layer. Areas in a
Layer cannot overlap, but Layers can overlap. That doesn’t save us from
having to check what is being overlapped on each draw, though. It just
adds an extra element to the mix that would need to prevent Areas from
overlapping.</p>
<p>Maybe I just do it with proportional frames, like how HTML tables work?
Or, there are different kinds of Screens that manage content differently?
You can have a StaticScreen that sets specific row and column locations
for everything. Then there is a ProportionalScreen that handles frames
like HTML tables. Neither allows overlap.</p>
<p>I may also be overthinking this. Let’s not solve this problem at this
time. Let’s design everything with fullscreen in mind, but ensure it
can handle the terminal being resized. I can then solve the problem of
having multiple Areas in the same screen after that.</p>
</section>
</section>
<section id="defined-data-views">
<h3>Defined Data Views<a class="headerlink" href="#defined-data-views" title="Permalink to this heading"></a></h3>
<p>The following are objects that handle displaying common data types
within a UI element.</p>
<dl class="simple">
<dt>Blank</dt><dd><p>A blank space on the screen.</p>
</dd>
<dt>Text</dt><dd><p>Unicode text data that can contain markup for rich text formatting.</p>
</dd>
<dt>Table</dt><dd><p>A multidimensional data structure, such as a spreadsheet.</p>
</dd>
<dt>Chart</dt><dd><p>A data visualization structure that resembles a bar chart.</p>
</dd>
<dt>Grid</dt><dd><p>A data visualization structure that resembles a grid.</p>
</dd>
<dt>Splash</dt><dd><p>Ascii art that is usually used to announce that the application
has launched.</p>
</dd>
</dl>
</section>
<section id="defined-input-modes">
<h3>Defined Input Modes<a class="headerlink" href="#defined-input-modes" title="Permalink to this heading"></a></h3>
<p>The following are objects that can take input from the user.</p>
<dl class="simple">
<dt>Keypress</dt><dd><p>A single key press from the user.</p>
</dd>
<dt>Field</dt><dd><p>A multicharacter string entered by the user and terminated by a return.</p>
</dd>
<dt>Menu</dt><dd><p>A selection from a list of options. Navigation through the options
is done with the arrow keys.</p>
</dd>
<dt>Form</dt><dd><p>The collected input from multiple fields. Navigation between fields
is handled by the return key, the tab key, or the arrow keys.</p>
</dd>
<dt>Prompt</dt><dd><p>This is a special type of field that is intended to behave like a
shell prompt.</p>
</dd>
</dl>
</section>
<section id="relative-sizing">
<h3>Relative Sizing<a class="headerlink" href="#relative-sizing" title="Permalink to this heading"></a></h3>
<p>The world would be easier if all terminals could only be 80 characters
wide. That is not the case, and so data views need to be able to handle
arbitrary resizing of the terminal both when the application is started
and while it is running. Or, at least, developers need to have the
option to support resizing of the terminal.</p>
<p>To handle this, data views can be given proportional dimensions, such
as 50%. These dimensions are relative to the total dimensions of the
terminal window. They must be recalculated every time a resizing of the
terminal window is detected.</p>
</section>
<section id="messaging">
<h3>Messaging<a class="headerlink" href="#messaging" title="Permalink to this heading"></a></h3>
<p>The loop for <cite>thurible</cite> should expect to be run in a separate thread
or process. Therefore all interaction with the terminal should be
handled through a queue. There will need to be two queues: an output
queue for messages from the application to the terminal and an input
queue for messages from the terminal to the application. We could make
that more complicated by allowing multiple input and output queues, but
let’s keep it simple for now.</p>
<p>Each type of message could be its own class. That would allow specific
behavior to be built into each type of message. I’m not sure that buys
anything over just using a simple data class with two fields: message
and data. I suppose it would allow easier type safety for the data
field. It would lead to there being a lot of different types of messages,
since each data view or input mode will likely need its own series of
messages.</p>
</section>
<section id="data-navigation">
<h3>Data Navigation<a class="headerlink" href="#data-navigation" title="Permalink to this heading"></a></h3>
<p>Simple navigation of the data, such as scrolling through text and
going to the next form field, should be handled by the Screen rather
than requiring the input to be sent to the application. These are
data views.</p>
<p>This will mean that displays will need to be able to accept input.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="panels.html" class="btn btn-neutral float-left" title="Panels" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Paul J. Iutzi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>